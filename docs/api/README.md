# Auto-generated API documentation for TPM Job Finder POC

This folder contains API docs for all major components, generated by Sphinx.

## How it works
- Sphinx autodoc pulls docstrings and API info from each Python module across the codebase
- Component-level README files are included for context and onboarding
- Docs are unified and browsable in one place
- Covers 505+ tests and comprehensive module documentation including the new API Gateway service

## Core API Services

### **API Gateway Service**
- **Unified Entry Point**: Main gateway for all platform API requests
- **REST Endpoints**: 15+ endpoints for health, routing, rate limiting, service discovery, and proxying
- **Test Coverage**: 65/65 tests with comprehensive HTTP mocking
- **Documentation**: Complete OpenAPI/Swagger documentation with FastAPI integration

### **Job Collection Service**
- **Modern TDD Implementation**: Production-ready job collection with lifecycle management
- **REST API**: Job search, source management, and collection statistics endpoints
- **Test Coverage**: 30+ comprehensive unit tests
- **Health Monitoring**: Real-time service health and collection metrics

### **Job Normalizer Service**
- **TDD-Complete Service**: 63/63 tests with comprehensive data normalization
- **REST API**: Job normalization, validation, and quality scoring endpoints
- **Data Processing**: Multi-source job data standardization and enhancement

### **LLM Provider Service**
- **Multi-Provider Support**: OpenAI, Anthropic, Gemini, DeepSeek, Ollama integration
- **REST API**: 17 endpoints for LLM processing, health checks, and provider management
- **Test Coverage**: 63/63 tests with complete RED-GREEN-REFACTOR TDD implementation

### **Notification Service**
- **Multi-Channel Communication**: Email, webhooks, alerts, real-time notifications
- **REST API**: 10 endpoints for notification sending, status tracking, and metrics
- **Test Coverage**: 44/44 tests with template engine and delivery tracking

## API Access Patterns

### **Through API Gateway (Recommended)**
All external API access should go through the API Gateway service for:
- Authentication and authorization
- Rate limiting and security
- Request routing and load balancing
- Metrics collection and monitoring
- Error handling and circuit breaking

```bash
# Gateway health check
curl http://localhost:8000/health

# Proxied job search through gateway
curl -X POST http://localhost:8000/proxy/api/v1/jobs/search \
  -H "Authorization: Bearer your-jwt-token" \
  -H "Content-Type: application/json" \
  -d '{"keywords": ["product manager"], "location": "Remote"}'

# Gateway metrics
curl http://localhost:8000/metrics
```

### **Direct Service Access (Development Only)**
Direct access to individual services for development and testing:

```bash
# Job Collection Service
curl http://localhost:8001/jobs/search

# LLM Provider Service
curl http://localhost:8002/process -X POST \
  -H "Content-Type: application/json" \
  -d '{"prompt": "Analyze this job posting", "provider": "openai"}'

# Notification Service
curl http://localhost:8003/notifications/send -X POST \
  -H "Content-Type: application/json" \
  -d '{"channel": "email", "recipient": "user@example.com", "subject": "Test"}'
```

## Regenerate docs
- Run: `sphinx-apidoc -o docs/api src`
- Then: `sphinx-build -b html docs docs/_build/html`
- For API Gateway: `sphinx-apidoc -o docs/api tpm_job_finder_poc/api_gateway_service`

## OpenAPI Documentation

### **API Gateway Service**
- **Interactive Docs**: Available at `http://localhost:8000/docs` when gateway is running
- **OpenAPI Schema**: Available at `http://localhost:8000/openapi.json`
- **Redoc**: Available at `http://localhost:8000/redoc`

### **Individual Services**
Each TDD-complete service provides its own OpenAPI documentation:
- **Job Collection**: `http://localhost:8001/docs`
- **LLM Provider**: `http://localhost:8002/docs`
- **Notification**: `http://localhost:8003/docs`

## CI/CD
- Documentation builds can be automated in CI to ensure docs are always up to date.
- API Gateway service documentation is automatically generated from FastAPI OpenAPI integration
- All service endpoints are documented with request/response schemas and examples API documentation for TPM Job Finder POC

This folder contains API docs for all major components, generated by Sphinx.

## How it works
- Sphinx autodoc pulls docstrings and API info from each Python module across the codebase
- Component-level README files are included for context and onboarding
- Docs are unified and browsable in one place
- Covers 505+ tests and comprehensive module documentation

## Regenerate docs
- Run: `sphinx-apidoc -o docs/api src`
- Then: `sphinx-build -b html docs docs/_build/html`

## CI/CD
- Documentation builds can be automated in CI to ensure docs are always up to date.
